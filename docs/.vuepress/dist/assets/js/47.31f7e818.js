(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{490:function(s,a,e){"use strict";e.r(a);var t=e(25),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"云环境中gdal库的配置与安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#云环境中gdal库的配置与安装"}},[s._v("#")]),s._v(" 云环境中GDAL库的配置与安装")]),s._v(" "),e("h2",{attrs:{id:"写作说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#写作说明"}},[s._v("#")]),s._v(" 写作说明")]),s._v(" "),e("p",[s._v("​\t\tGDAL库作为遥感GIS行业最常用也是基本的一个开源库，它的强大功能自然不用在过多强调。目前市面上很多的开源软件或者第三方的开源库底层都和GDAL库相关联，比如GeoServer、QGIS等等，而我们在平时工作中这个库也是必不可少的一个重要软件。合理利用GDAL库，不仅能加速我们平时的各种数据处理速度，优化我们工作效率，同时也能加深我们对于GIS行业中各种操作原理有充分的认知。")]),s._v(" "),e("p",[s._v("​\t\t这篇文章主要面向的是在公司里面从事遥感GIS行业的开发人员，主要原因是目前公司大部分都是采用云环境开发，工作内容大部分都需要在云上完成，所以我们需要配置云上的GDAL环境。同时目前大部分云操作系统都是RedHat系统或者Centos系统或者Arm64系统等Linux环境，所以独立掌握配置Linux环境的GDAL是必备的技能。")]),s._v(" "),e("h2",{attrs:{id:"_1、gdal库介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、gdal库介绍"}},[s._v("#")]),s._v(" 1、GDAL库介绍")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/lsw_1869.jpg",alt:""}})]),s._v(" "),e("p",[s._v("GDAL库的官方介绍地址：https://gdal.org/index.html")]),s._v(" "),e("p",[s._v("引用官方的一段描述")]),s._v(" "),e("blockquote",[e("p",[s._v("GDAL is a translator library for raster and vector geospatial data formats that is released under an X/MIT style Open Source "),e("a",{attrs:{href:"https://gdal.org/license.html#license",target:"_blank",rel:"noopener noreferrer"}},[s._v("License"),e("OutboundLink")],1),s._v(" by the "),e("a",{attrs:{href:"http://www.osgeo.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Open Source Geospatial Foundation"),e("OutboundLink")],1),s._v(". As a library, it presents a single raster abstract data model and single vector abstract data model to the calling application for all supported formats. It also comes with a variety of useful command line utilities for data translation and processing. The "),e("a",{attrs:{href:"https://github.com/OSGeo/gdal/blob/v3.4.0/gdal/NEWS.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("NEWS"),e("OutboundLink")],1),s._v(" page describes the November 2021 GDAL/OGR 3.4.0 release.")])]),s._v(" "),e("p",[s._v("需要了解的是GDAL是用来做地理信息数据处理的一个开源库，它可以处理栅格影像数据（比如tif、img等），也可以处理空间矢量数据（比如shapefile、geojson等），结合其它的软件库可以实现目前遥感GIS行业几乎所有格式数据的处理。")]),s._v(" "),e("p",[s._v("GDAL支持栅格数据格式：https://gdal.org/drivers/raster/index.html#raster-drivers")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/lsw_1850.jpg",alt:""}})]),s._v(" "),e("p",[s._v("支持矢量数据格式：https://gdal.org/drivers/vector/index.html#vector-drivers")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/lsw_1851.jpg",alt:""}})]),s._v(" "),e("h2",{attrs:{id:"_2、gdal库安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、gdal库安装"}},[s._v("#")]),s._v(" 2、GDAL库安装")]),s._v(" "),e("h3",{attrs:{id:"windows版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#windows版"}},[s._v("#")]),s._v(" Windows版")]),s._v(" "),e("p",[s._v("Windows版本的GDAL安装还是比较容易的主要有几种方式")]),s._v(" "),e("h4",{attrs:{id:"第一种方法-使用anaconda安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一种方法-使用anaconda安装"}},[s._v("#")]),s._v(" 第一种方法：使用Anaconda安装")]),s._v(" "),e("p",[s._v("官方推荐使用conda安装GDAL环境，他会帮你把所有的依赖找完整，相关命令如下图：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/Xnip2021-11-16_12-59-40.jpg",alt:""}})]),s._v(" "),e("p",[s._v("作为一个开发人员，说实话我个人不喜欢Anaconda这种环境，我还是喜欢按照自己意愿独立配置相关内容，后面介绍的两种方法就是纯粹的技术开发人员配置方式")]),s._v(" "),e("h4",{attrs:{id:"第二种方法-直接下载安装包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二种方法-直接下载安装包"}},[s._v("#")]),s._v(" 第二种方法：直接下载安装包")]),s._v(" "),e("p",[s._v("从网站（https://download.gisinternals.com/release.php）可以下载GDAL核心包以及python绑定，自己手动安装。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/lsw_1848.jpg",alt:""}})]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/lsw_1849.jpg",alt:""}})]),s._v(" "),e("h4",{attrs:{id:"第三种方法-使用pip安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三种方法-使用pip安装"}},[s._v("#")]),s._v(" 第三种方法：使用pip安装")]),s._v(" "),e("p",[s._v("从这个网站（https://www.lfd.uci.edu/~gohlke/pythonlibs/#gdal）直接下载对应的whl包，然后使用 pip 安装即可。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/lsw_1847.jpg",alt:""}})]),s._v(" "),e("p",[s._v("下载下来指定的wheel文件后运行")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("pip3 "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" GDAL-xxxx.whl\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("如果提示缺少其它包，直接安装对应的内容即可。")]),s._v(" "),e("h3",{attrs:{id:"mac版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mac版"}},[s._v("#")]),s._v(" Mac版")]),s._v(" "),e("p",[s._v("Mac系统安装GDAL还是比较容易，已经有国外的开发人员将其打包，可以从这个网站下载（https://www.kyngchaos.com/software/frameworks/），这个网站中不仅仅可以下载GDAL安装包，还可以下载相关的插件以及Mac版本的QGIS。由于这个是国外的网站，所以有时候需要科学上网。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/lsw_1846.jpg",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"linux版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux版"}},[s._v("#")]),s._v(" Linux版")]),s._v(" "),e("p",[s._v("Linux环境配置是我们这次讲解的重点。")]),s._v(" "),e("p",[s._v("第一步配置一个总体的环境")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.bashrc\n\n录⼊：\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LD_LIBRARY_PATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LD_LIBRARY_PATH")]),s._v(":/usr/local/lib \n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/usr/local/bin \n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CPATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(":"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CPATH")]),s._v(":/usr/local/include\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("第二步安装相关依赖")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y gcc "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" gcc-c++ sqlite-devel libxml2-devel python3-devel numpy swig expat-devel libcurl-devel postgresql postgresql-devel "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v(" autoconf automake libtool zlib-devel libjpeg-devel bison flex\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("####安装Proj6")]),s._v(" "),e("p",[s._v("（1）下载解压")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -c http://download.osgeo.org/proj/proj-6.2.0.tar.gz\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvf proj-6.2.0.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("（2）生成配置")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" proj-6.2.0\n./configure --prefix"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("（3）编译")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("（4）安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"安装geos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装geos"}},[s._v("#")]),s._v(" 安装geos")]),s._v(" "),e("p",[s._v("（1）下载解压")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -c http://download.osgeo.org/geos/geos-3.6.2.tar.bz2\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvf geos-3.6.2.tar.bz2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("（2）生成配置")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" geos-3.6.2/ \n\n./configure --prefix"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local --enable-python\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("（3）编译")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("（4）安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("####安装HDF5")]),s._v(" "),e("p",[s._v("（1）下载解压")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -c https://support.hdfgroup.org/ftp/HDF5/current18/src/hdf5-1.8.21.tar\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvf hdf5-1.8.21.tar\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("（2）生成配置")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hdf5-1.8.21/\n\n./configure "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --prefix"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --enable-shared "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --enable-build-all "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --with-zlib "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --with-pthread "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --enable-cxx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("（3）编译")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("（4）安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"安装netcdf4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装netcdf4"}},[s._v("#")]),s._v(" 安装NetCDF4")]),s._v(" "),e("p",[s._v("下载地址：https://www.unidata.ucar.edu/downloads/netcdf/")]),s._v(" "),e("p",[s._v("由于这个库更新很快，所以不一定会有这个相关库，可以根据自己的实际情况来定。")]),s._v(" "),e("p",[s._v("（1）下载解压")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -c https://downloads.unidata.ucar.edu/netcdf-c/4.8.1/src/netcdf-c-4.8.1.tar.gz\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvf netcdf-c-4.8.1.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("（2）生成配置")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" netcdf-c-4.8.1/\n\n./configure --prefix"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("（3）编译")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("（4）安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"安装openjpeg"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装openjpeg"}},[s._v("#")]),s._v(" 安装openjpeg")]),s._v(" "),e("p",[s._v("（1）下载解压")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -c https://github.com/uclouvain/openjpeg/archive/v2.3.1/openjpeg-2.3.1.tar.gz\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvf openjpeg-2.3.1.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("（2）配置编译")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -v build "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" build "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v("\ncmake -DCMAKE_BUILD_TYPE"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Release "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-DCMAKE_INSTALL_PREFIX"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-DBUILD_STATIC_LIBS"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("OFF "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("（3）安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"安装gdal"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装gdal"}},[s._v("#")]),s._v(" 安装GDAL")]),s._v(" "),e("p",[s._v("源码下载地址：http://trac.osgeo.org/gdal/wiki/DownloadSource")]),s._v(" "),e("p",[s._v("（1）下载解压")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -c http://download.osgeo.org/gdal/3.0.1/gdal-3.0.1.tar.gz\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvf gdal-3.0.1.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("（2）生成配置")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" gdal-3.0.1\n\n./configure "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--prefix"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-libtiff"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("internal "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-geotiff"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("internal "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-jpeg"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("internal "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-jpeg12 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--without-libtool "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--without-python "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-libkml "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-static-proj4 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-geos "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--without-hdf4 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-hdf5 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-netcdf "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--with-openjpeg\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br")])]),e("p",[s._v("（3）更新GDALmake.opt")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("LIBS    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("      "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("SDE_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" -L/usr/local/lib -lgeos_c -lgeos  -lsqlite3 -lexpat -L/usr/local/lib -lnetcdf -lhdf5 -lproj -lopenjp2 -lz -lpthread -lm -lrt -ldl  "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("KAK_LIBS"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("DWG_LIBS"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("CURL_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("MRSID_LIBS"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("MRSID_LIDAR_LIBS"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("ECW_LIBS"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("INGRES_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("PCIDSK_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("RASDAMAN_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("SOSI_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("OPENCL_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("JVM_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("LIBICONV"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("FGDB_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("LIBXML2_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("MONGODB_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("MONGOCXXV3_LIBS"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("JNI_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("HDFS_LIB"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("（4）编译")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("（5）安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"编译python版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译python版本"}},[s._v("#")]),s._v(" 编译python版本")]),s._v(" "),e("p",[s._v("（1）使用源码编译安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /gdal-3.0.1/swig/python/ \npython3 setup.py build \n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" python3 setup.py "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("（2）修改配置")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PYTHONPATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PYTHONPATH")]),s._v(":/修改为安装完成后提示的路径/site-packages/GDAL-3.0.1-py3.7-linux-aarch64.egg/osgeo\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_3、gdal安装异常解决"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、gdal安装异常解决"}},[s._v("#")]),s._v(" 3、GDAL安装异常解决")]),s._v(" "),e("p",[s._v("这些异常是我在实际安装中遇到的各种问题，是非常宝贵的经验。")]),s._v(" "),e("p",[e("strong",[s._v("（1）解决configure: error: xxx A compiler with support for c++11 language features is required")]),s._v(".")]),s._v(" "),e("p",[s._v("解决方案：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y gcc gcc-c++\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("（2）解决configure: error: no acceptable C compiler found in $PATH 问题解决")])]),s._v(" "),e("p",[s._v("解决方案：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y gcc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("（3）openjpeg.h: No such file or directory")])]),s._v(" "),e("p",[s._v("解决方案：")]),s._v(" "),e("p",[s._v("重新安装"),e("code",[s._v("openjpeg")]),s._v("，将其安装逻辑指定为 "),e("code",[s._v("/usr/local")]),s._v(",修改 "),e("code",[s._v("~/.bashrc")]),s._v("，增加")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LD_LIBRARY_PATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LD_LIBRARY_PATH")]),s._v(":/usr/local/lib \n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/usr/local/bin \n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CPATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(":"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CPATH")]),s._v(":/usr/local/include:/usr/local/include/openjpeg-2.3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[e("strong",[s._v("（4）command 'gcc' failed with exit status 1")])]),s._v(" "),e("p",[s._v("解决方法，安装"),e("code",[s._v("python3-devel")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" python3-devel\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("（5）配置清华源")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("pip3 config "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("（6）error while loading shared libraries: libXXX.so.X: cannot open shared object file: No such file")])]),s._v(" "),e("p",[s._v("解决方案：")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".将⽤户⽤到的库统⼀放到⼀个⽬录，如 /usr/loca/lib \ncp libXXX.so.X /usr/loca/lib/ \n由于我们设置都在 /usr/local 所以这⼀步可以省略\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".向库配置⽂件中，写⼊库⽂件所在⽬录 \n#打开文件\nsudo vim /etc/ld.so.conf.d/usr-libs.conf\n#写入下面内容\n/usr/local/lib\n#退出保存\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".更新 /etc/ld.so.cache ⽂件 \nsudo ldconfig\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("p",[e("strong",[s._v("（7）ImportError: No module named ‘_gdal_array'")])]),s._v(" "),e("p",[s._v("解决方案：")]),s._v(" "),e("p",[s._v("这个通常是numpy和gdal安装顺序反了，应该先安装numpy等，在安装gdal。")]),s._v(" "),e("p",[e("strong",[s._v("（8）sudo sh: xx: command not found")])]),s._v(" "),e("p",[s._v("解决方案：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到root用户")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" -\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改这个文件的权限，非常重要")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /etc/sudoers                             \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑这个文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sudoers    \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 增加指定路径")]),s._v("\nDefaults  secure_path "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出保存")]),s._v("\n                             \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改这个文件的权限，非常重要")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("440")]),s._v(" /etc/sudoers\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("h2",{attrs:{id:"_4、gdal基本命令使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、gdal基本命令使用"}},[s._v("#")]),s._v(" 4、GDAL基本命令使用")]),s._v(" "),e("p",[s._v("####查询GDAL版本信息")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("gdalinfo --version\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查询结果：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/lsw_1839.jpg",alt:""}})]),s._v(" "),e("h4",{attrs:{id:"查询影像基本信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询影像基本信息"}},[s._v("#")]),s._v(" 查询影像基本信息")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("gdalinfo 原始影像\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("例子")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("gdalinfo /Users/lsw/Downloads/Data/wc2.1_10m_elev.tif\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("查询结果：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/Xnip2021-11-16_00-20-15.jpg",alt:""}})]),s._v(" "),e("h4",{attrs:{id:"影像转投影"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#影像转投影"}},[s._v("#")]),s._v(" 影像转投影")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("gdalwarp 参数列表 -t_srs 投影信息 原始影像 结果影像\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("例子：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("gdalwarp -co "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("COMPRESS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("LZW -t_srs EPSG:3857 /Users/lsw/Downloads/Data/wc2.1_10m_elev.tif /Users/lsw/Downloads/3857_dem.tif\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/lsw_1866.jpg",alt:""}})]),s._v(" "),e("h4",{attrs:{id:"影像裁剪"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#影像裁剪"}},[s._v("#")]),s._v(" 影像裁剪")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("gdalwarp 参数列表 原始影像 结果影像 -cutline 矢量文件 -crop_to_cutline\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("例子：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("gdalwarp -co "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("COMPRESS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("LZW /Users/lsw/Downloads/Data/wc2.1_10m_elev.tif /Users/lsw/Downloads/bj_dem.tif -cutline /Users/lsw/Desktop/DLG/2004/china_shp_split/11/110000.shp -crop_to_cutline\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/lsw_1867.jpg",alt:""}})]),s._v(" "),e("h2",{attrs:{id:"写作后续"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#写作后续"}},[s._v("#")]),s._v(" 写作后续")]),s._v(" "),e("p",[s._v("​\t\t这篇文章我对于它的定位是教大家如何云环境中安装配置使用GDAL，因为目前各个公司做原生的云开发是未来发展趋势，关于云原生环境配置是我们每一个开发人员必备的能力。俗话说好：“一个不懂的配置Linux环境的工程师不是一个好的开发人员”，通过这些简单而琐碎的配置也能增加我们对于Linux环境各种库安装、配置有比较深刻的理解，学习到如何操作Linux环境，为未来升职加薪打下结实基础。")]),s._v(" "),e("p",[s._v("​\t\t关于GDAL库的各种使用，比如如何读取栅格数据数据、如何读取矢量数据、如何做各种统计分析、数据处理等，后续看情况是否写更多的实例教程来教授大家如何进行相关操作。")]),s._v(" "),e("h2",{attrs:{id:"作者简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#作者简介"}},[s._v("#")]),s._v(" 作者简介")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/shi_weihappy/image-bed/raw/master/images/%E4%B8%AA%E4%BA%BA%E4%BB%8B%E7%BB%8D.jpg",alt:""}})]),s._v(" "),e("p",[s._v("无形的风，大学专修数学，毕业之后反而进入了软件研发行业，后转入农业遥感GIS方面。从事多年软件设计开发，从KJava到Java开发、从Flash AS3到JavaScript开发、从C++到ObjectC开发、从Shell到Python开发，随着行业变迁发展遭受了各种语言程序的“毒打”。目前专注于国产的PIE软件研发、GEE开发与传道、Python机器学习相关方面的学习开发。")])])}),[],!1,null,null,null);a.default=n.exports}}]);